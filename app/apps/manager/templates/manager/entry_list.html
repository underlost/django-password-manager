{% extends "manager/base.html" %}
{% load extra_tags %}
{% block sidebar %}
<div class="card mb-5">
  <div class="card-header">Categories</div>
  <ul class="list-group list-group-flush">
    {% for cat in categories %}
    <li class="list-group-item" onclick='searchEntries("{{ cat.title }}")'><a href="#{{ cat.id }}"><i class="icon-chevron-right"></i> {{ cat.title }}</a></li>
    {% endfor %}
  </ul>
</div>
{% endblock %}
{% block content %}

{% for e in entries %}
<div class="card mb-2">
  <div class="card-header">
  <h5 class="mb-0">{{ e.title }}<small class="ml-2"><a href="{% url 'passe.manager:update_entry' pk=e.id %}">(edit)</a></small></h5>
  {% if e.expires %}<div class="float-right">{{e.expires}}</div>{% endif %}
  </div>
  <div class="card-body">
    <small>
    {% if e.url %}<span class="d-block">URL: {{e.url}}</span>{% endif %}
    {% if e.username %}<span class="d-block">username: {{e.username}}</span>{% endif %}
    {% if e.password %}
      <span class="d-block" onclick="toggleVisibility(this);">Password:
        <span style="visibility:hidden">{{ e.password|decrypt:user.password }}</span>
      </span>
    {% endif %}
    </small>
    {% if e.comment %}
      <hr />
      {{e.comment|safe}}
    {% endif %}
  </div>
</div>
{% endfor %}

{% endblock %}
